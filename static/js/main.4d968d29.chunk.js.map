{"version":3,"sources":["App.js","index.js"],"names":["state","proxy","current","items","laces","mesh","caps","inner","sole","stripes","band","patch","Shoe","ref","useRef","snap","useSnapshot","useGLTF","nodes","materials","useFrame","t","clock","getElapsedTime","rotation","z","Math","sin","x","cos","y","position","useState","hovered","set","useEffect","cursor","document","body","style","btoa","dispose","onPointerOver","e","stopPropagation","object","material","name","onPointerOut","intersections","length","onPointerMissed","onPointerDown","receiveShadow","castShadow","geometry","shoe","shoe_1","shoe_2","shoe_3","shoe_4","shoe_5","shoe_6","shoe_7","Picker","display","className","color","onChange","App","shadows","dpr","camera","fov","intensity","angle","penumbra","fallback","Environment","preset","ContactShadows","PI","opacity","width","height","blur","far","OrbitControls","minPolarAngle","maxPolarAngle","enableZoom","enablePan","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4d968d29.chunk.js","sourcesContent":["import React, { Suspense, useRef, useState, useEffect } from \"react\"\nimport { Canvas, useFrame } from \"@react-three/fiber\"\nimport { ContactShadows, Environment, useGLTF, OrbitControls } from \"@react-three/drei\"\nimport { HexColorPicker } from \"react-colorful\"\nimport { proxy, useSnapshot } from \"valtio\"\n\n// Using a Valtio state model to bridge reactivity between\n// the canvas and the dom, both can write to it and/or react to it.\nconst state = proxy({\n  current: null,\n  items: {\n    laces: \"#ffffff\",\n    mesh: \"#ffffff\",\n    caps: \"#ffffff\",\n    inner: \"#ffffff\",\n    sole: \"#ffffff\",\n    stripes: \"#ffffff\",\n    band: \"#ffffff\",\n    patch: \"#ffffff\",\n  },\n})\n\nfunction Shoe() {\n  const ref = useRef()\n  const snap = useSnapshot(state)\n  // Drei's useGLTF hook sets up draco automatically, that's how it differs from useLoader(GLTFLoader, url)\n  // { nodes, materials } are extras that come from useLoader, these do not exist in threejs/GLTFLoader\n  // nodes is a named collection of meshes, materials a named collection of materials\n  const { nodes, materials } = useGLTF(\"shoe-draco.glb\")\n\n  // Animate model\n  useFrame((state) => {\n    const t = state.clock.getElapsedTime()\n    ref.current.rotation.z = -0.2 - (1 + Math.sin(t / 1.5)) / 20\n    ref.current.rotation.x = Math.cos(t / 4) / 8\n    ref.current.rotation.y = Math.sin(t / 4) / 8\n    ref.current.position.y = (1 + Math.sin(t / 1.5)) / 10\n  })\n\n  // Cursor showing current color\n  const [hovered, set] = useState(null)\n  useEffect(() => {\n    const cursor = `<svg width=\"64\" height=\"64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0)\"><path fill=\"rgba(255, 255, 255, 0.5)\" d=\"M29.5 54C43.031 54 54 43.031 54 29.5S43.031 5 29.5 5 5 15.969 5 29.5 15.969 54 29.5 54z\" stroke=\"#000\"/><g filter=\"url(#filter0_d)\"><path d=\"M29.5 47C39.165 47 47 39.165 47 29.5S39.165 12 29.5 12 12 19.835 12 29.5 19.835 47 29.5 47z\" fill=\"${snap.items[hovered]}\"/></g><path d=\"M2 2l11 2.947L4.947 13 2 2z\" fill=\"#000\"/><text fill=\"#000\" style=\"white-space:pre\" font-family=\"Inter var, sans-serif\" font-size=\"10\" letter-spacing=\"-.01em\"><tspan x=\"35\" y=\"63\">${hovered}</tspan></text></g><defs><clipPath id=\"clip0\"><path fill=\"#fff\" d=\"M0 0h64v64H0z\"/></clipPath><filter id=\"filter0_d\" x=\"6\" y=\"8\" width=\"47\" height=\"47\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\"><feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/><feColorMatrix in=\"SourceAlpha\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/><feOffset dy=\"2\"/><feGaussianBlur stdDeviation=\"3\"/><feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"/><feBlend in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/><feBlend in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\"/></filter></defs></svg>`\n    const auto = `<svg width=\"64\" height=\"64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"rgba(255, 255, 255, 0.5)\" d=\"M29.5 54C43.031 54 54 43.031 54 29.5S43.031 5 29.5 5 5 15.969 5 29.5 15.969 54 29.5 54z\" stroke=\"#000\"/><path d=\"M2 2l11 2.947L4.947 13 2 2z\" fill=\"#000\"/></svg>`\n    document.body.style.cursor = `url('data:image/svg+xml;base64,${btoa(hovered ? cursor : auto)}'), auto`\n  }, [hovered])\n\n  // Using the GLTFJSX output here to wire in app-state and hook up events\n  return (\n    <group\n      ref={ref}\n      dispose={null}\n      onPointerOver={(e) => (e.stopPropagation(), set(e.object.material.name))}\n      onPointerOut={(e) => e.intersections.length === 0 && set(null)}\n      onPointerMissed={() => (state.current = null)}\n      onPointerDown={(e) => (e.stopPropagation(), (state.current = e.object.material.name))}>\n      <mesh receiveShadow castShadow geometry={nodes.shoe.geometry} material={materials.laces} material-color={snap.items.laces} />\n      <mesh receiveShadow castShadow geometry={nodes.shoe_1.geometry} material={materials.mesh} material-color={snap.items.mesh} />\n      <mesh receiveShadow castShadow geometry={nodes.shoe_2.geometry} material={materials.caps} material-color={snap.items.caps} />\n      <mesh receiveShadow castShadow geometry={nodes.shoe_3.geometry} material={materials.inner} material-color={snap.items.inner} />\n      <mesh receiveShadow castShadow geometry={nodes.shoe_4.geometry} material={materials.sole} material-color={snap.items.sole} />\n      <mesh receiveShadow castShadow geometry={nodes.shoe_5.geometry} material={materials.stripes} material-color={snap.items.stripes} />\n      <mesh receiveShadow castShadow geometry={nodes.shoe_6.geometry} material={materials.band} material-color={snap.items.band} />\n      <mesh receiveShadow castShadow geometry={nodes.shoe_7.geometry} material={materials.patch} material-color={snap.items.patch} />\n    </group>\n  )\n}\n\nfunction Picker() {\n  const snap = useSnapshot(state)\n  return (\n    <div style={{ display: snap.current ? \"block\" : \"none\" }}>\n      <HexColorPicker className=\"picker\" color={snap.items[snap.current]} onChange={(color) => (state.items[snap.current] = color)} />\n      <h1>{snap.current}</h1>\n    </div>\n  )\n}\n\nexport default function App() {\n  return (\n    <>\n      <Canvas shadows dpr={[1, 2]} camera={{ position: [0, 0, 4], fov: 50 }}>\n        <ambientLight intensity={0.7} />\n        <spotLight intensity={0.5} angle={0.1} penumbra={1} position={[10, 15, 10]} castShadow />\n        <Suspense fallback={null}>\n          <Shoe />\n          <Environment preset=\"city\" />\n          <ContactShadows rotation-x={Math.PI / 2} position={[0, -0.8, 0]} opacity={0.25} width={10} height={10} blur={1.5} far={0.8} />\n        </Suspense>\n        <OrbitControls minPolarAngle={Math.PI / 2} maxPolarAngle={Math.PI / 2} enableZoom={false} enablePan={false} />\n      </Canvas>\n      <Picker />\n    </>\n  )\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./styles.css\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}